<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Happy 30th Ipsita ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  background: #0c0c0c;
  font-family: 'Playfair Display', serif;
  color: white;
  text-align: center;
  overflow-x: hidden;
}

/* BIG 30 */
.big30 {
  position: fixed;
  font-size: 300px;
  font-weight: 700;
  color: rgba(212,175,55,0.07);
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 0;
}

/* HERO */
.hero {
  position: relative;
  z-index: 2;
  padding-top: 60px;
}

.hero img {
  width: 320px;
  border-radius: 20px;
  box-shadow: 0 25px 50px rgba(0,0,0,0.7);
  animation: float 5s ease-in-out infinite;
  cursor: pointer;
}

@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-15px); }
  100% { transform: translateY(0px); }
}

h1 { font-size: 42px; margin-top: 25px; }
.gold { color: #d4af37; }

.subtitle { margin-top: 10px; opacity: 0.8; }

#countdown {
  margin-top: 15px;
  font-size: 18px;
  color: #d4af37;
}

/* CAKE */
.cake {
  margin-top: 60px;
  position: relative;
  width: 220px;
  height: 200px;
  margin-left: auto;
  margin-right: auto;
}

.cake-base {
  position: absolute;
  bottom: 0;
  width: 220px;
  height: 120px;
  background: #1a1a1a;
  border-radius: 20px;
  border: 2px solid #d4af37;
}

.candle {
  position: absolute;
  width: 12px;
  height: 60px;
  background: white;
  left: 104px;
  top: 50px;
}

.flame {
  position: absolute;
  width: 20px;
  height: 30px;
  background: radial-gradient(circle, #ffd700 40%, orange 70%);
  border-radius: 50%;
  left: 100px;
  top: 20px;
  animation: flicker 0.15s infinite alternate;
}

@keyframes flicker {
  from { transform: scale(1); }
  to { transform: scale(1.15); }
}

button {
  margin-top: 25px;
  padding: 12px 30px;
  border-radius: 30px;
  border: 1px solid #d4af37;
  background: transparent;
  color: #d4af37;
  font-size: 16px;
  cursor: pointer;
}

button:hover {
  background: #d4af37;
  color: black;
}

/* MESSAGE */
.message {
  max-width: 700px;
  margin: 60px auto;
  font-size: 20px;
  line-height: 1.8;
  opacity: 0;
  transition: opacity 2s ease;
}

.show { opacity: 1; }

/* SIGNATURE */
.signature {
  margin-top: 30px;
  font-size: 22px;
  opacity: 0;
  transition: opacity 2s ease;
}

.signature span {
  color: #d4af37;
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { opacity: 0.6; }
  50% { opacity: 1; }
  100% { opacity: 0.6; }
}

/* FINAL SCREEN */
.finalScreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: black;
  color: #d4af37;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 40px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 2s ease;
  z-index: 5;
}

.showFinal {
  opacity: 1;
}
</style>
</head>

<body>

<div class="big30">30</div>

<div class="hero">
  <img src="ipsita.jpg" ondblclick="showSecret()" alt="Ipsita">
  <h1>Happy <span class="gold">30th</span> Birthday, Ipsita ‚ù§Ô∏è</h1>
  <div class="subtitle">Thirty years of elegance. A lifetime more of magic.</div>
  <div id="countdown"></div>
</div>

<div class="cake">
  <div class="cake-base"></div>
  <div class="candle"></div>
  <div class="flame" id="flame"></div>
</div>

<button onclick="startListening()">Blow the Candle üéÇ</button>

<div class="message" id="message">
  Ipsita,  

  At 30, you stand in your most powerful chapter yet ‚Äî  
  confident, radiant, and beautifully yourself.  

  You are warmth in human form.  
  You are strength wrapped in grace.  
  You are the calm in my chaos.  

  I hope this decade brings you everything your heart dreams of.  
</div>

<div class="signature" id="signature">
  With all my love,  
  <span>‚Äî Khalikul ‚ù§Ô∏è</span>
</div>

<div class="finalScreen" id="finalScreen">
  I Love You Forever, Ipsita ‚ù§Ô∏è
</div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_5c9b0c7e94.mp3" type="audio/mpeg">
</audio>

<script>
const flame = document.getElementById("flame");
const message = document.getElementById("message");
const signature = document.getElementById("signature");
const finalScreen = document.getElementById("finalScreen");
const music = document.getElementById("music");

/* Countdown to March 2 */
const targetDate = new Date("March 2, 2026 00:00:00").getTime();
const countdown = document.getElementById("countdown");

setInterval(function(){
  const now = new Date().getTime();
  const distance = targetDate - now;

  if(distance > 0){
    const days = Math.floor(distance / (1000*60*60*24));
    const hours = Math.floor((distance % (1000*60*60*24))/(1000*60*60));
    const minutes = Math.floor((distance % (1000*60*60))/(1000*60));
    countdown.innerHTML = days+"d "+hours+"h "+minutes+"m until your moment ‚ú®";
  } else {
    countdown.innerHTML = "It‚Äôs your day, my love ‚ù§Ô∏è";
  }
},1000);

function startListening() {
  music.play();
  navigator.mediaDevices.getUserMedia({ audio: true })
  .then(stream => {
    const audioContext = new AudioContext();
    const mic = audioContext.createMediaStreamSource(stream);
    const analyser = audioContext.createAnalyser();
    mic.connect(analyser);
    const data = new Uint8Array(analyser.frequencyBinCount);

    function detectBlow() {
      analyser.getByteFrequencyData(data);
      let volume = data.reduce((a,b)=>a+b)/data.length;

      if(volume > 65) {
        flame.style.display = "none";
        message.classList.add("show");
        signature.style.opacity = "1";
        setTimeout(()=> finalScreen.classList.add("showFinal"), 6000);
      }

      requestAnimationFrame(detectBlow);
    }

    detectBlow();
  });
}

/* Console Easter Egg */
console.log("if (heart === 'Ipsita') { forever = true; } ‚ù§Ô∏è");
</script>

</body>
</html>
